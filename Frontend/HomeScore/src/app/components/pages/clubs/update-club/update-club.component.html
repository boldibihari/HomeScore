<div *ngIf="isLoading">
  <loader [type]="'basic'"></loader>
</div>
<div class="flex justify-content-center" *ngIf="!isLoading">
  <p-card
    class="p-4 shadow-2 border-round w-full lg:w-6"
    header="Update"
    subheader="Club"
  >
    <div>
      <form [formGroup]="updateForm" (ngSubmit)="updateClub(updateForm.value)">
        <div class="field">
          <p-rating formControlName="rating" [cancel]="false"></p-rating>
        </div>
        <div class="field my-4">
          <span class="p-float-label">
            <input
              id="name"
              type="text"
              formControlName="name"
              pInputText
              class="w-full"
              [ngClass]="{ 'ng-invalid ng-dirty': validateControl('name') }"
            />
            <label for="name" class="p-float-label">Name</label>
          </span>
          <small
            *ngIf="validateControl('name') && hasError('name', 'required')"
            class="p-error flex justify-content-center"
          >
            Name is required.
          </small>
        </div>
        <div class="field my-4">
          <span class="p-float-label">
            <input
              id="colour"
              type="text"
              formControlName="colour"
              placeholder="primary-secondary"
              pInputText
              class="w-full"
              [ngClass]="{ 'ng-invalid ng-dirty': validateControl('colour') }"
            />
            <label for="colour" class="p-float-label">Colour</label>
          </span>
          <small
            *ngIf="validateControl('colour') && hasError('colour', 'required')"
            class="p-error flex justify-content-center"
          >
            Colour is required.
          </small>
        </div>
        <div class="field my-4">
          <span class="p-float-label">
            <input
              id="city"
              type="text"
              formControlName="city"
              pInputText
              class="w-full"
              [ngClass]="{ 'ng-invalid ng-dirty': validateControl('city') }"
            />
            <label for="city" class="p-float-label">City</label>
          </span>
          <small
            *ngIf="validateControl('city') && hasError('city', 'required')"
            class="p-error flex justify-content-center"
          >
            City is required.
          </small>
        </div>
        <div class="field my-4">
          <span class="p-float-label">
            <input
              id="founded"
              type="number"
              min="1600"
              max="2022"
              formControlName="founded"
              pInputText
              class="w-full"
              [ngClass]="{ 'ng-invalid ng-dirty': validateControl('founded') }"
            />
            <label for="city" class="p-float-label">Founded</label>
          </span>
          <small
            *ngIf="
              validateControl('founded') && hasError('founded', 'required')
            "
            class="p-error flex justify-content-center"
          >
            Founded is required.
          </small>
          <small
            *ngIf="hasError('founded', 'min')"
            class="p-error flex justify-content-center"
            >This year is too small.</small
          >
          <small
            *ngIf="hasError('founded', 'max')"
            class="p-error flex justify-content-center"
            >This year is too high.</small
          >
        </div>
        <div class="field flex justify-content-center">
          <button
            pButton
            pRipple
            label="Update"
            icon="pi pi-plus"
            class="w-full"
            type="submit"
            [disabled]="!updateForm.valid"
          ></button>
        </div>
      </form>
    </div>
  </p-card>
</div>
